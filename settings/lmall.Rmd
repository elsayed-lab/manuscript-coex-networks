```{r settings}
#
# L. major all samples
#
# Updated 2017/11/21 (cutoff: 0.48)
# Note: 0.77 also appears to be a good cutoff, if a more stringent network is
# desired...
#

#
# Exclude networks without batch adjustment (performs signficantly worse for L.
# major and has a strong negative influence on resulting consensus network
#
nets <- read_csv(file.path(Sys.getenv('r15'), '115-coex-network-param-opt-v6',
                           'output', 'normal',
                           'lmajor_all_samples-multicopy-v6.0.csv')) %>%
    filter(batch_adjustment != 'none')

nets_to_include <- sprintf('%d_adjmat.RData', nets$id)
rdas_to_include <- sprintf('%d.RData', nets$id)

#
# Manuscript-specific configuration
#
MANUSCRIPT_CONFIG <- list(
    title           = "Consensus Co-expression Network Comparison: L. major (All samples)", 
    input_dir       = file.path(Sys.getenv('SCRATCH'), 'param_opt', 'normal',
                                'lmajor_all_samples-multicopy-v6.0'),
    output_dirname  = 'lmajor',
    quantile_cutoff = 0.48
)

#
# Base co-expression analysis configuration
#
CONFIG <- list(
    host            = c("H. sapiens", "M. musculus", "P. duboscqi"),
    pathogen        = "L. major",
    target          = "pathogen",

    organism_db     = "Leishmania.major.Friedlin",
    organism_genome = "LmJF",
    orgdb_key       = "GID",

    input_count_tables  = c(file.path(Sys.getenv("SCRATCH"),
                                      "lmajor-hsapiens/counts/lmajor/*.count"),
                            file.path(Sys.getenv("SCRATCH"),
                                      "lmajor-mmusculus/counts/lmajor/*.count"),
                            file.path(Sys.getenv("SCRATCH"),
                                      "lmajor-pduboscqi/counts/lmajor/*.count")),
    samples             = read_csv(file.path(Sys.getenv('RESEARCH'), '2015',
                                             '14-coex-network-lmajor-all-samples',
                                             'settings', 'lmajor_samples.csv')),
    sample_id         = 'sample_id',
    condition         = 'condition',
    batch             = 'batch',
    covariates        = c('batch', 'host', 'strain'),

    main_comparison     = c('proc', 'amast04'),
    main_comparison_label = "Amastigote (4 HPI) - Procyclic",

    filter_multicopy  = FALSE,

    verbose             = FALSE,
    include_tables      = TRUE,
    include_plots       = FALSE,
    debug               = FALSE,
    use_cache           = FALSE
)
```
